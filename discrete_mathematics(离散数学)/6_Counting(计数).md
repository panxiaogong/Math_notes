# 第六章 计数
## 排列和组合

### 排列

所谓排列，就是对集合中的部分元素进行一种安排，这种安排是有顺序的，比如说对于集合S={a,b,c}，在集合S中任意选取两个元素进行排列，就可以得到六种排列：a,b；a,c；b,a；b,c；c,a；c,b。

对于n元素集中r个元素的有序安排称为**r排列**，记作**P(n,r)**

定理：具有n个不同元素的集合的r排列个数为：

$$\begin{align\*}
P(n,r)=n(n-1)(n-2)\cdot\cdot\cdot(n-r+1)
\end{align\*}$$

> 证明是非常容易的，选取这个排列的第一个元素有n种方法，选取第二个元素有n-1种方法，...，选择第r个元素时有n-(r-1)=n-r+1种方法，由乘法法则易得上式。

- 显然 $P(n,r)=\frac{n!}{(n-r)!}$， $P(n,n)=n!$ 
- 另外，只要n是一个非负整数，就有P(n,0)=1。(因为恰好只有一种方法来排列0个元素，也叫做空排列)

> 另外，排列可以看作是从r元集合到n元集合做单射，以r元集合作为定义域，也就是有r个位置，每个位置都去对应n元集合中的一个元素，不难理解，n元集合中任意两个不同的元素都会对应不同的位置，所以做排列的过程也可以视为做单射的过程。

例：字母ABCDEFGH有多少种排列包含ABC？

解：鉴于ABC必须成组出现，我们可以视集合中有六个对象，分别是ABC，D，E，F，G，H，这6个对象可以按任意次序出现，也就是有6!=720种排列。

关于阶乘的一些补充：

$$\begin{align\*}
n!\approx\sqrt{2\pi n}\cdot(\frac{n}{e})^n(Stirling近似)
\end{align\*}$$

### 组合

相比于排列，组合更加的自然。对集合中的部分元素放在一块，就是组合。它是无顺序的，随意地从集合中选出来放在一起即可。比如说对于集合S={a,b,c}，在集合S中任意选取两个元素进行组合，就可以得到三种组合：a,b；b,c；c,a。

对于n元素集中r个元素的有序安排称为**r组合**，记作**C(n,r)** 。

$$\begin{align\*}
n元素集合的r组合数等于\\
C(n,r)=\frac{n!}{r!(n-r)!}
\end{align\*}$$

证明：我们考虑n元素集合的r排列，即P(n,r)，之后我们换一种思路去得到一个r排列：先从n元素集中选出r个元素，即C(n,r)，再对这r个元素进行排列，即P(r,r)，那么我们有：

$$\begin{align\*}
P(n,r)=C(n,r)C(r,r)\\
C(n,r)=\frac{P(n,r)}{C(r,r)}=\frac{\frac{n!}{(n-r)!}}{r!}=\frac{n!}{r!(n-r)!}\\
\end{align\*}$$

- 由公式易得， $C(n,r)=C(n,n-r)$ ，这也不难理解，当你从n元素集合中选取了r个元素，剩下的n-r元素也就唯一确定了。

补充：

```math
如果0\leq p\leq 1,q=1-p,n\rightarrow\infty,那么\\\\
\begin{pmatrix}n\\pn\end{pmatrix}\approx\frac{1}{\sqrt{2\pi}}(p^pq^q)^{-n}(pqn)^{-\frac1 2}(Stirling近似)
```


## 二项式系数和恒等式
