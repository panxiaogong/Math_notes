# 第十章 图
## 图的基本概念

&emsp;&emsp;**有点有边就是图** ，就是这么简单(但我们还是会给出定义的，放心)

&emsp;&emsp;定义：图 $G$ 由顶点(vertices)的非空集 $V$ 和边(edges)集 $E$ 构成。每条边有一个或两个顶点与它相连。我们记作 $G$ =( $V$ , $E$ )，表示图 $G$ 由这两个集合构成。

&emsp;&emsp;有以下几点需要额外注意：

- 我们根据顶点数目是否有限将图分为**有限(finite)图** 和**无限(infinite)图** (在下文我们默认讨论有限图的情况)
- 我们根据边是否有方向分为**无向图(undirected)** 和**有向(directed)图** ，图中既有有向边又有无向边则称为**混合(mixed)图** 。(边为什么会有方向呢？想象一下单向车道，你只能朝着一个方向开而不能逆行，懂了吧)
- 我们根据是否有平行边将图分为**简单(simple)图** 和**多重图(multi-graph)** ，平行边就是指两个顶点之间存在多条边(假期去同一个地方旅游的行驶路线总是不止一条对吧)，有的时候顶点上可能还会有环，也就是一条起点和终点都在该点的边。包含环或者平行边的的图，称为**伪图** 。

&emsp;&emsp;在下面的学习中，我们主要聚焦于**无向简单图** 。

&emsp;&emsp;别急，图相关的定义还没有结束：

&emsp;&emsp;定义：在图 $G$ 中，如果顶点 $u$ 和顶点 $v$ 之间有边，那么就称顶点 $u$ 和顶点 $v$ **相邻**(邻接，adjacent)，这条边被称为关联了(incident with)顶点 $u$ 和顶点 $v$ ，或者叫连接(connect)了顶点 $u$ 和顶点 $v$ 。

&emsp;&emsp;(数学家真是麻烦啊...)

&emsp;&emsp;定义：所有与图中顶点 $v$ 相邻的顶点组成的集合称为顶点 $v$ 的**邻居**，记作 $\mathcal{N}(v)$ 。对于图 $G$ 点集 $V$ 的子集 $W$ ，我们规定 

$$\begin{align\*}
\mathcal{N}(W)=\bigcup_{v\in W}\mathcal{N}(v)
\end{align\*}$$

&emsp;&emsp;其实就是子集中所有元素的邻居的并集。

&emsp;&emsp;为了理解起来更加方便，我们根据如下的图来做出一些说明(如下的图有自己的名字，叫做**Petersen Graph**，是一个图论中比较重要且基本的图)

<p align="center">
<img src="https://github.com/user-attachments/assets/a8d66976-93c9-4b18-b7c3-b2137dd82930" width="250" />

我们有：

- $\mathcal{N}(A)=\\{a,B,E\\}$
- $\mathcal{N}(\\{A,C\\})=\\{a,c,B,D,E\\}$

&emsp;&emsp;别急，我们关于图的定义依然没有结束：

&emsp;&emsp;**顶点的度**记为与该点关联的边的数目。另外需要注意的是，自环对于顶点的度的贡献度为2，也就是说，当一条边的起点和终点相同时，这条边对这个顶点的度贡献为2而不是1。

&emsp;&emsp;在一个简单图中，因为其既无自环又无平行边，所以任意一点的度数就等于该点的邻居数，也就是 $deg(v)=\mathcal{N}(v)$ 。

&emsp;&emsp;如果一个图中所有顶点的度数都相同(不妨记为 $d$ )，则该图称为 $d$ **正则图**(d-regular graph)。

&emsp;&emsp;度为0的顶点称为**孤立点**，度为1的顶点称为**悬挂点**。

&emsp;&emsp;若图 $G=(V,E)，|V|=n$ ，并且第 $i$ 个顶点的度数为 $d_i$ ，那么该图的**度数序列**为 $d_1,d_2,...,d_n$ (通常以不增的顺序给出)

<p align="center">
<img src="https://github.com/user-attachments/assets/6f7c27b2-8030-4a32-bb66-044922d14c3a" width="250" />

&emsp;&emsp;在上图中，我们有 $deg(a)=4$ , $deg(b)=6$ , $deg(c)=1$ , $deg(d)=5$ , $deg(e)=6$ , 故该图的度数序列为6,6,5,4,1

&emsp;&emsp;截止到这里，我们关于图的相关定义已经介绍的差不多了，但是我们还需要知道几个定理。

&emsp;&emsp;**握手定理**：令图 $G=(V,E)$ 是一个有 $m$ 条边的无向图，那么我们有：

$$\begin{align\*}
2m=\sum_{v\in V}deg(v)
\end{align\*}$$

&emsp;&emsp;为什么叫握手定理呢？不妨我们有 $m$ 个人，他们有些人之间会相互握手，每个人握手的次数就是每个顶点的度，两人握过手就意味两个顶点之间存在一条边，边的总数(握手的总次数)乘以2就是每个人握手的次数之和。(果然，数学来源于生活而高于生活啊)

&emsp;&emsp;根据握手定理，我们有推论：任意一个无向图应有偶数个度为奇数的顶点。因为握手定理左端的数为偶数，故右端必然也是整数，度为偶数的顶点不管有偶数个还是奇数个，它们的和永远都是偶数，但是如果度为奇数的顶点有奇数个，那么最后加和就得不到一个偶数。所以，度为奇数的顶点必然只能有偶数个。

&emsp;&emsp;**定理：** 在一个至少有两个顶点的简单图中，必然有两个顶点具有相同的度。

&emsp;&emsp;**证明：** 不妨我们有 $n$ 个顶点，这 $n$ 个顶点可能的度的取值范围在下面两个集合之中：

$$\begin{align\*}
A_1=\{0,1,2,...,n-2\}\\
A_2=\{1,2,3,...,n-1\}
\end{align\*}$$

&emsp;&emsp;之所以会这样，是因为一旦有顶点的度为0，就不可能出现度为 $n-1$ 的顶点，反之也是如此。不难发现，n个顶点的度只可能同时有 $n-1$ 种取值，所以必然会有两个顶点的度相同。

&emsp;&emsp;前面我们提到过度数序列，我们下面就度数序列扩展一些内容。

&emsp;&emsp;定义：一个度数序列称之为可成图的(graphic)当且仅当存在一个图的度数序列为该度数序列。

&emsp;&emsp;现在问题来了，我们如何判断一个度数序列是否可成图？

&emsp;&emsp;如果一个序列 $d_1,d_2,...,d_n$ 可成图，那么我们对该序列所成的图做如下的操作。不妨记度为 $d_i$ 的点是 $v_i$ 。

&emsp;&emsp;我们有顶点序列

$$\begin{align\*}
v_1,v_2,...,v_n
\end{align\*}$$

&emsp;&emsp;如果 $v_1$ 恰好和 $v_2,v_3,...,v_{d_1+1}$ 这总共 $d_1$ 个点相邻，则不做操作，如果不是这样，比如说 $v_1$ 同 $v_k(2\leqslant k\leqslant d_1+1)$ 不相邻，而同 $v_j(d_1+2\leqslant j\leqslant n)$ 相邻， $v_k$ 同 $v_m(2\leqslant m\leqslant n)$ 相邻，接下来我们构造一个新的图，仍是原先的顶点序列，但是 $v_1$ 同 $v_k$ 相连，而不同 $v_j$ 相连， $v_m$ 不同 $v_k$ 相连，而同 $v_j$ 相连，其余的边皆不变，这样的一个新图的度数序列仍与旧图的度数序列相同，仍是符合原度数序列的一个图。

&emsp;&emsp;但凡这 $d_1$ 个点中有哪几个点不与 $v_1$ 相邻，我们就按照上述操作来构造新图，并且一定能够构造出来，最后我们能够得到一个图，该图的度数序列与给定的度数序列相同，并且 $v_1$ 恰好和 $v_2,v_3,...,v_{d_1+1}$ 这总共 $d_1$ 个点相邻。

&emsp;&emsp;接下来，我们将 $v_1$ 以及与该点相关联的边从图中删除，就能获得下面这样一个度数序列：

$$\begin{align\*}
d_2-1,d_3-1,...,d_{d_1+1}-1,d_{d_1+2},...,d_n
\end{align\*}$$

&emsp;&emsp;因为我们前面假设原序列是可成图的，那么我们现在新得到的这个序列也是可成图的，其所成的图就是原图删掉 $v_1$ 以及与该点相关联的边所产生的图。

&emsp;&emsp;为了保持度数序列的不减性，我们将新得到的度数序列重新以一种不减的顺序排列一下，然后继续仿照上述过程来做，直到我们能够十分容易地判断该度数序列能否成图即可。

&emsp;&emsp;我们举下面一个例子：

&emsp;&emsp;比如说我们现在有度数序列：

$$\begin{align\*}
9,8,7,6,6,5,5,4,3,3,2,2
\end{align\*}$$

就等价于判断下面的序列：

$$\begin{align\*}
8-1,7-1,6-1,6-1,5-1,5-1,4-1,3-1,3-1,2,2\\
也就是7,6,5,5,4,4,3,2,2,2,2
\end{align\*}$$

就等价于判断下面的序列：

$$\begin{align\*}
5,4,4,3,3,2,1,2,2,2\\
也就是5,4,4,3,3,2,2,2,2,1\\
\end{align\*}$$

一路等价下去：

$$\begin{align\*}
3,3,2,2,1,2,2,2,1\Leftrightarrow 3,3,2,2,2,2,2,1,1\\
\Leftrightarrow 2,1,1,2,2,2,1,1\Leftrightarrow 2,2,2,2,1,1,1,1\\
\Leftrightarrow 1,1,2,1,1,1,1\Leftrightarrow 2,1,1,1,1,1,1\\
\Leftrightarrow 1,1,1,1
\end{align\*}$$

&emsp;&emsp;1,1,1,1显然是可成图的度数序列，所以9,8,7,6,6,5,5,4,3,3,2,2也是可成图的度数序列。至于如何把这个度数序列所成的图构造出来，可以参考本章最后的备注(尽管我写到这里的时候，还没有写本章的备注)。

&emsp;&emsp;我们刚才一直关注于无向图顶点的度，下面我们来考虑有向图顶点的度。因为有向图中的边是有方向的，所以与有向图略有不同。

&emsp;&emsp;当 $(u,v)$ 是有向图中的一条边时，我们说 $u$ 邻接到 $v$ ，或者说 $v$ 从 $u$ 邻接，顶点 $u$ 称为该边的起点，顶点 $v$ 称为该边的终点。

&emsp;&emsp;以顶点 $v$ 作为终点的边数记为该点的**入度**(就是指向或者射入该点的边数)，记作 $deg^-(v)$ ，以顶点 $v$ 作为起点的边数记为该点的**出度**(就是从该点射出的边数)，记作 $deg^+(v)$ 。

&emsp;&emsp;注意，顶点上的环对这个顶点的入度和出度的贡献都是1。

&emsp;&emsp;不难理解，我们有下面的等式：

$$\begin{align\*}
\sum_{v\in V}deg^-(v)=\sum_{v\in V}deg^+(v)=|E|
\end{align\*}$$

## 特殊的简单图

&emsp;&emsp;完全图 $K_n$ ：有 $n$ 个顶点，任意两个顶点之间都会有一条边，如下图所示为 $K_5$ 

<p align="center">
<img src="https://github.com/user-attachments/assets/25cbf20e-e29f-4cd9-96eb-3023444e876c" width="150" />

&emsp;&emsp;圈图 $C_n$ ：有 $n$ 个顶点，恰好形成一个环。如下图所示为 $C_5$ 

<p align="center">
<img src="https://github.com/user-attachments/assets/92bc883f-60d9-4ca9-b8c3-a229f4b97fd3" width="150" />

&emsp;&emsp;轮图 $W_n$ ：有 $n+1$ 个顶点，恰好形成一个车轮似的环，如下图所示为 $W_5$ 

<p align="center">
<img src="https://github.com/user-attachments/assets/ccf05422-6e8d-4b14-9a0b-d248c13130f6" width="150" />

&emsp;&emsp; $n$ 立方体图 $Q_n$ ：用顶点表示 $2^n$ 个长度为 $n$ 的比特串的图，两个顶点相邻，当且仅当他们所表示的比特串恰有一位不同。如下显示为 $Q_3$

<p align="center">
<img src="https://github.com/user-attachments/assets/b6593a7b-a111-468e-b416-c225cd00509d" width="150" />

