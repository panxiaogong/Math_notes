## 条件概率，全概率公式，贝叶斯公式

&emsp;&emsp;我们之前对于概率的讨论总是在一组固定的条件下进行的，也就是除了给定的概率空间之外并无其他的信息。但有些时候会出现一些额外的**附加前提**，比如说抛掷一枚均匀的骰子，已知抛掷出来的点数为奇数，求点数为1的概率。那么这个概率显然就不会是六分之一，而应该是三分之一，计算出这样的结果是因为事件 $B$ “抛掷出来的点数为奇数”对事件 $A$ “点数为1”造成了影响，而我们计算出的点数为1的概率，其实应该是“在抛掷出来的点数为奇数的前提下，点数为1的概率”，我们将其形象地称为**条件概率**，记为 $P(A|B)$ 。

&emsp;&emsp;这种带有条件的概率是相当重要的，在给出具体的定义之前，我们先来看一些比较特殊的情形。在古典概型中，我们要计算 $P(A|B)$ ，其实就是计算事件 $A$ 与 $B$ 共同拥有的样本点占事件 $B$ 中的样本点的个数之比，这就是“在事件 $B$ 的前提下，事件 $A$ 发生的概率”，因为事件 $B$ 已然发生，而事件 $A$ 的发生则意味着两件事情都发生了，对于前面提到过的抛骰子问题，事件 $B$ 所含的样本点个数 $m_B$ 为3，事件 $A\cap B$ 所含的样本点个数 $m_{AB}$ 为1，因此

$$\begin{align\*}
P(A|B)=\frac{m_{AB}}{m_B}=\frac{\frac{m_{AB}}{n}}{\frac{m_{B}}{n}}=\frac{P(AB)}{P(B)}
\end{align\*}$$

倘若是几何概型，若以 $m(A),m(B),m(AB),m(\Omega)$ 分别记事件 $A,B,AB,\Omega$ 所对应的点集的测度，且 $m(B)>0$ ，则

$$\begin{align\*}
P(A|B)=\frac{m(AB)}{m(B)}=\frac{\frac{m(AB)}{m(\Omega)}}{\frac{m(B)}{m(\Omega)}}=\frac{P(AB)}{P(B)}
\end{align\*}$$

在一般场合，我们也将这个式子作为条件概率的定义。

&emsp;&emsp;定义：设($\Omega,\mathscr{F},P$)是一个概率空间， $B\in \mathscr{F}$ 并且 $P(B)>0$ ，则对任意的 $A\in \mathscr{F}$ ，记

$$\begin{align\*}
P(A|B)=\frac{P(AB)}{P(B)}
\end{align\*}$$

并称 $P(A|B)$ 为**在事件** $B$ **发生的条件下事件** $A$ **发生的条件概率（conditional probability）**

> 若未经特别指出，今后出现条件概率 $P(A|B)$ 时，都假定 $P(B)>0$ ，但倘若 $P(B)=0$ ，由于这时 $P(AB)$ 也必须为0，所以计算式为待定型，进一步研究依然是可能的。

&emsp;&emsp;并且可以由条件概率的计算公式得到

$$\begin{align\*}
P(AB)=P(B)P(A|B)
\end{align\*}$$

该等式也被称为概率的**乘法公式**或**乘法定理**，倘若还有 $P(A)>0$ ，则也可以定义出 $P(B|A)$ ，那么

$$\begin{align\*}
P(AB)=P(A)P(B|A)=P(B)P(A|B)
\end{align\*}$$
































